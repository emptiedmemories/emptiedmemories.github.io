(function(){var t=function(t,r){return function(){return t.apply(r,arguments)}};(function(r){return window.Gallery=function(){function n(){this.clickOnThumb=t(this.clickOnThumb,this),this.prepare(),this.observe(),this.init()}return n.prototype.prepare=function(){return this.body=site.body,this.albums=this.body.find(".album"),this.thumbs=this.albums.find("img"),this.setPositions(),r.contains(this.body,r(".gallery-overlay"))||this.body.append('<div class="gallery-overlay">'),this.overlay=this.body.find(".gallery-overlay")},n.prototype.init=function(){return this.applyStyle()},n.prototype.applyStyle=function(){return this.thumbs.each(function(t,n){var a;return a=r(n),a.parents(".album-item").css("left",a.data("left")),a.attr("style",a.data("style"))})},n.prototype.observe=function(){var t=this;return this.thumbs.on({mouseover:function(t){var n,a;return a=r(t.currentTarget),n="left: 0; -webkit-transform: scale(1);-moz-transform: scale(1);-ms-transform: scale(1);-o-transform: scale(1);transform: scale(1);",a.attr("style",n)},mouseout:function(t){var n;return n=r(t.currentTarget),n.attr("style",n.data("style"))},click:function(r){return t.clickOnThumb(r)}})},n.prototype.clickOnThumb=function(t){var n,a,e,i,s;return i=r(t.currentTarget),a=r.inArray(i.parents(".album")[0],this.albums),n=this.albums.eq(a),e=r.inArray(i.parent()[0],n.find(".album-item")),s=n.find(".album-title"),this.openOverlay()},n.prototype.openOverlay=function(){},n.prototype.template=function(){var t;return t="        <div id='gallery'>          <div class='gallery-title'><span>"+index+"</span> | <span>"+title+"</span></div>          <ul>            <li class='icon-prev'><a href='#'></a></li>            <li class='icon-next'><a href='#'></a></li>            <li class='indicator'>"+now+"/"+total+"</li>            <li class='icon-escape'><a href='#'></a></li>          </ul>          <div class='image-container'>"+img+"</div>        </div>      "},n.prototype.setPositions=function(){return this.albums.each(function(t,n){var a;return a=r(n).find("img"),a.each(function(t,n){var a,e,i,s;return s=r(n),i=1===Math.floor((t+1)/2)%2?.2+.4*Math.random():.8+.2*Math.random(),e=Math.round(-200+400*Math.random()),a="-webkit-transform: scale("+i+");-moz-transform: scale("+i+");-ms-transform: scale("+i+");-o-transform: scale("+i+");transform: scale("+i+");",s.data({style:a,left:e})})})},n}()})(jQuery)}).call(this);